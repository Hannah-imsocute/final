<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.sp.app.admin.mapper.EventMapper">

	<insert id="insertCoupon"
		parameterType="com.sp.app.admin.model.Coupon">
		INSERT INTO coupon (coupon_code, couponName, rate,
		startdate, enddate,
		valid, selected)
		VALUES (#{coupon_code},
		#{couponName}, #{rate}, #{start}, #{end}, #{valid},
		0 )
	</insert>



	<select id="getValidCoupon"
		resultType="com.sp.app.admin.model.Coupon">
		SELECT coupon_code, couponName, TO_CHAR(startdate,
		'YYYY-MM-DD') "start"
		,TO_CHAR(enddate, 'YYYY-MM-DD') "end" ,valid
		FROM
		coupon
		WHERE
		selected = 0
	</select>



	<select id="getAllCoupon"
		resultType="com.sp.app.admin.model.Coupon">
		SELECT coupon_code, couponName, TO_CHAR(startdate,
		'YYYY-MM-DD') "start"
		,TO_CHAR(enddate, 'YYYY-MM-DD') "end" ,valid FROM
		coupon
	</select>



	<insert id="insertClockin"
		parameterType="com.sp.app.admin.model.ClockinEvent">
		INSERT INTO CLOCKIN_EVENT (clockin_num , event_title,
		start_date,
		expire_date, daybyday, weekly, monthly, selected)
		VALUES
		(seq_clockin_event.NEXTVAL, #{event_title}, #{start_date},
		#{expire_date}, #{daybyday}, #{weekly}, #{monthly}, 0)
	</insert>

	<select id="getValidClockin"
		resultType="com.sp.app.admin.model.ClockinEvent">
		SELECT clockin_num, event_title, start_date, expire_date, daybyday, weekly,
		monthly FROM CLOCKIN_EVENT
		WHERE selected = 0
	</select>

	<select id="getAllClockin"
		resultType="com.sp.app.admin.model.ClockinEvent">
		SELECT clockin_num, event_title, start_date,
		expire_date, daybyday, weekly,monthly
		FROM CLOCKIN_EVENT
	</select>
</mapper>